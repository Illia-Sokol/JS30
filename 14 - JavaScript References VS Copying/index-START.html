<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Reference VS Copy</title>
</head>
<body>

  <script>
    // start with strings, numbers and booleans
    let a = 1;
    let b = a;
    console.log(a, b);
    a = 2;
    console.log(a, b);

    let str = 'Hello';
    let str1 = str;
    console.log(str, str1);
    str = 'New Year';
    console.log(str, str1);

    console.clear();

    // Let's say we have an array
    const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];

    // NOT WORKING!!!
    // const players1 = players
    // console.log(players, players1);
    // players1[1]='ROONEY!!!';
    // console.log(players, players1);

    // VAR_1
    // const players1 = Array.from(players);
    // console.log(players, players1);
    // players1[1]='GIGGS';
    // console.log(players, players1);

    // VAR_2
    // const players1 = players.slice();
    // console.log(players, players1);
    // players1[1]='SHOLS';
    // console.log(players, players1);

    // VAR_3
    // const players1 = [].concat(players)
    // console.log(players, players1);
    // players1[1]='VAN DER SAR';
    // console.log(players, players1);

    // VAR_4 or use the new ES6 Spread
    const players1 = [...players];
    console.log(players, players1);
    players1[1]='MESSI';
    console.log(players, players1);

    // console.clear();
    // with Objects
    const person = {
      name: 'Luis',
      surname: 'Suarez',
      age: 28
    }

    // NOT WORKING
    // const person1 = person;
    // console.log(person, person1);
    // person1.name = 'Julia';
    // console.log(person, person1);

    const person1 = Object.assign({}, person, {surname: 'Rakitich'});
    console.log(person, person1);
    person1.name = 'Ivan';
    console.log(person, person1);
    // console.dir(Object)

    // Things to note - this is only 1 level deep - both for Arrays and Objects. lodash has a cloneDeep method, but you should think twice before using it.
    const pet = {
      name: 'Bim',
      age: 5,
      color: {
        head: 'black',
        body: 'grey'
      }
    }

    // NOT WORKING DEEPER COPY
    // const pet1 = Object.assign({}, pet, {age: 10})
    // console.log(pet, pet1);
    // pet1.color.head = 'white';
    // console.log(pet, pet1);

    // THIS IS WORKING
    const pet1 = JSON.parse(JSON.stringify(pet));
    console.log(pet, pet1);
    pet1.color.head = 'white';
    console.log(pet, pet1);

  </script>

</body>
</html>
